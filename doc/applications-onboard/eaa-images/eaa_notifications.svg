<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1311px" preserveAspectRatio="none" style="width:1042px;height:1311px;" version="1.1" viewBox="0 0 1042 1311" width="1042px" zoomAndPan="magnify"><defs><filter height="300%" id="f1vt3wixmrqmji" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="72" x="480.5" y="26.708">Streams</text><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="182" y="49.6611"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="205" y="49.6611">Topic</text><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="395" y="49.6611">Description</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="11" x="182" y="70.6143">b</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="111" x="205" y="70.6143">&lt;Client_ID&gt;</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="456" x="395" y="70.6143">Holds all subscribe/unsubscribe events from a client</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="9" x="182" y="91.5674">c</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="178" x="205" y="91.5674">&lt;URN.Namespace&gt;</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="291" x="395" y="91.5674">Holds all events for a namespace</text><line style="stroke: #000000; stroke-width: 1.0;" x1="176" x2="857" y1="32.9531" y2="32.9531"/><line style="stroke: #000000; stroke-width: 1.0;" x1="176" x2="857" y1="53.9063" y2="53.9063"/><line style="stroke: #000000; stroke-width: 1.0;" x1="176" x2="857" y1="74.8594" y2="74.8594"/><line style="stroke: #000000; stroke-width: 1.0;" x1="176" x2="857" y1="95.8125" y2="95.8125"/><line style="stroke: #000000; stroke-width: 1.0;" x1="176" x2="176" y1="32.9531" y2="95.8125"/><line style="stroke: #000000; stroke-width: 1.0;" x1="199" x2="199" y1="32.9531" y2="95.8125"/><line style="stroke: #000000; stroke-width: 1.0;" x1="389" x2="389" y1="32.9531" y2="95.8125"/><line style="stroke: #000000; stroke-width: 1.0;" x1="857" x2="857" y1="32.9531" y2="95.8125"/><rect fill="#FFFFFF" filter="url(#f1vt3wixmrqmji)" height="73.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="467.5" y="230.6719"/><rect fill="#FFFFFF" filter="url(#f1vt3wixmrqmji)" height="264.9922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="467.5" y="333.2031"/><rect fill="#FFFFFF" filter="url(#f1vt3wixmrqmji)" height="263.8594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="467.5" y="670.4609"/><rect fill="#FFFFFF" filter="url(#f1vt3wixmrqmji)" height="273.8594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="467.5" y="963.4531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="48" x2="48" y1="156.4063" y2="1255.3125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="127" x2="127" y1="156.4063" y2="1255.3125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="472" x2="472" y1="156.4063" y2="1255.3125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="744.5" x2="744.5" y1="156.4063" y2="1255.3125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="884.5" x2="884.5" y1="156.4063" y2="1255.3125"/><rect fill="#FEFECE" filter="url(#f1vt3wixmrqmji)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="8" y="121.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="15" y="141.1045">Producer</text><rect fill="#FEFECE" filter="url(#f1vt3wixmrqmji)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="8" y="1254.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="15" y="1274.3076">Producer</text><rect fill="#FEFECE" filter="url(#f1vt3wixmrqmji)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="99" y="121.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="106" y="141.1045">Client</text><rect fill="#FEFECE" filter="url(#f1vt3wixmrqmji)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="99" y="1254.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="106" y="1274.3076">Client</text><rect fill="#FEFECE" filter="url(#f1vt3wixmrqmji)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="41" x="450" y="121.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="457" y="141.1045">EAA</text><rect fill="#FEFECE" filter="url(#f1vt3wixmrqmji)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="41" x="450" y="1254.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="457" y="1274.3076">EAA</text><rect fill="#FEFECE" filter="url(#f1vt3wixmrqmji)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="693.5" y="104.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="700.5" y="124.8076">&lt;Client_ID&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="718" y="141.1045">Stream</text><rect fill="#FEFECE" filter="url(#f1vt3wixmrqmji)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="693.5" y="1254.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="700.5" y="1274.3076">&lt;Client_ID&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="718" y="1290.6045">Stream</text><rect fill="#FEFECE" filter="url(#f1vt3wixmrqmji)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="154" x="805.5" y="104.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="140" x="812.5" y="124.8076">&lt;URN.Namespace&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="858" y="141.1045">Stream</text><rect fill="#FEFECE" filter="url(#f1vt3wixmrqmji)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="154" x="805.5" y="1254.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="140" x="812.5" y="1274.3076">&lt;URN.Namespace&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="858" y="1290.6045">Stream</text><rect fill="#FFFFFF" filter="url(#f1vt3wixmrqmji)" height="73.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="467.5" y="230.6719"/><rect fill="#FFFFFF" filter="url(#f1vt3wixmrqmji)" height="264.9922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="467.5" y="333.2031"/><rect fill="#FFFFFF" filter="url(#f1vt3wixmrqmji)" height="263.8594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="467.5" y="670.4609"/><rect fill="#FFFFFF" filter="url(#f1vt3wixmrqmji)" height="273.8594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="467.5" y="963.4531"/><rect fill="#EEEEEE" filter="url(#f1vt3wixmrqmji)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1027" x="3" y="186.9727"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1030" y1="186.9727" y2="186.9727"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1030" y1="189.9727" y2="189.9727"/><rect fill="#EEEEEE" filter="url(#f1vt3wixmrqmji)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="312" x="360.5" y="176.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="293" x="366.5" y="192.4731">Get Notifications (establish connection)</text><polygon fill="#A80036" points="455.5,226.6719,465.5,230.6719,455.5,234.6719,459.5,230.6719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="127.5" x2="461.5" y1="230.6719" y2="230.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="134.5" y="225.606">[GET] /notifications</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="742.5" x2="732.5" y1="274.9375" y2="270.9375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="742.5" x2="732.5" y1="274.9375" y2="278.9375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="477.5" x2="743.5" y1="274.9375" y2="274.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="484.5" y="254.7388">subscribe to the topic</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="484.5" y="269.8716">read from the beginning</text><polygon fill="#A80036" points="138.5,300.0703,128.5,304.0703,138.5,308.0703,134.5,304.0703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="132.5" x2="471.5" y1="304.0703" y2="304.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="316" x="144.5" y="299.0044">[GET] /notifications response(Websocket channel)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="477.5" x2="487.5" y1="333.2031" y2="329.2031"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="477.5" x2="487.5" y1="333.2031" y2="337.2031"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="477.5" x2="743.5" y1="333.2031" y2="333.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="494.5" y="328.1372">Event from &lt;Client_ID&gt; - All Messages</text><path d="M355,346.2031 L355,567.2031 L586,567.2031 L586,356.2031 L576,346.2031 L355,346.2031 " fill="#FBFB77" filter="url(#f1vt3wixmrqmji)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M576,346.2031 L576,356.2031 L586,356.2031 L576,346.2031 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="361" y="363.27">Message.ID: URN.Namespace:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="361" y="378.4028">Message.Payload: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="377" y="393.5356">URN.Namespace</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="377" y="408.6685">URN.ID[when Scope='service']</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="377" y="423.8013">Action</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="377" y="438.9341">Scope</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="377" y="454.0669">Notifications[</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="393" y="469.1997">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="409" y="484.3325">Name</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="409" y="499.4653">Version</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="409" y="514.5981">Description</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="393" y="529.731">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="377" y="544.8638">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="361" y="559.9966">}</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="882.5" x2="872.5" y1="598.1953" y2="594.1953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="882.5" x2="872.5" y1="598.1953" y2="602.1953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="472.5" x2="883.5" y1="598.1953" y2="598.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="212" x="479.5" y="593.1294">Subscribe: &lt;[]URN.Namespace&gt;</text><rect fill="#EEEEEE" filter="url(#f1vt3wixmrqmji)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1027" x="3" y="626.7617"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1030" y1="626.7617" y2="626.7617"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1030" y1="629.7617" y2="629.7617"/><rect fill="#EEEEEE" filter="url(#f1vt3wixmrqmji)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="171" x="431" y="616.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="152" x="437" y="632.2622">Publish Notifications</text><polygon fill="#A80036" points="455.5,666.4609,465.5,670.4609,455.5,674.4609,459.5,670.4609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="48.5" x2="461.5" y1="670.4609" y2="670.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="55.5" y="665.395">[POST] /notifications</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="882.5" x2="872.5" y1="699.5938" y2="695.5938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="882.5" x2="872.5" y1="699.5938" y2="703.5938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="477.5" x2="883.5" y1="699.5938" y2="699.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="203" x="484.5" y="694.5278">PushNotificationToSubscribers()</text><path d="M744,712.5938 L744,903.5938 L1021,903.5938 L1021,722.5938 L1011,712.5938 L744,712.5938 " fill="#FBFB77" filter="url(#f1vt3wixmrqmji)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1011,712.5938 L1011,722.5938 L1021,722.5938 L1011,712.5938 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="750" y="729.6606">Message.ID: &lt;EMPTY&gt; or Random UUID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="750" y="744.7935">Message.Payload: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="766" y="759.9263">URN.Namespace</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="766" y="775.0591">URN.ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="766" y="790.1919">Notifications[</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="782" y="805.3247">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="798" y="820.4575">Name</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="798" y="835.5903">Version</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="798" y="850.7231">Description</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="782" y="865.856">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="766" y="880.9888">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="750" y="896.1216">}</text><polygon fill="#A80036" points="59.5,930.3203,49.5,934.3203,59.5,938.3203,55.5,934.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="53.5" x2="471.5" y1="934.3203" y2="934.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="65.5" y="929.2544">[POST] /notifications response</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="477.5" x2="487.5" y1="963.4531" y2="959.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="477.5" x2="487.5" y1="963.4531" y2="967.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="477.5" x2="883.5" y1="963.4531" y2="963.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="494.5" y="958.3872">Event from &lt;URN.Namespace&gt; - notification</text><path d="M332,976.4531 L332,1167.4531 L609,1167.4531 L609,986.4531 L599,976.4531 L332,976.4531 " fill="#FBFB77" filter="url(#f1vt3wixmrqmji)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M599,976.4531 L599,986.4531 L609,986.4531 L599,976.4531 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="338" y="993.52">Message.ID: &lt;EMPTY&gt; or Random UUID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="338" y="1008.6528">Message.Payload: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="354" y="1023.7856">URN.Namespace</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="354" y="1038.9185">URN.ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="354" y="1054.0513">Notifications[</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="370" y="1069.1841">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="386" y="1084.3169">Name</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="386" y="1099.4497">Version</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="386" y="1114.5825">Description</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="370" y="1129.7153">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="354" y="1144.8481">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="338" y="1159.981">}</text><path d="M256,1182.0469 L256,1207.0469 L684,1207.0469 L684,1192.0469 L674,1182.0469 L256,1182.0469 " fill="#FBFB77" filter="url(#f1vt3wixmrqmji)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M674,1182.0469 L674,1192.0469 L684,1192.0469 L674,1182.0469 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="407" x="262" y="1199.1138">Use existing logic to send the notification to all local subscribers</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="127.5" x2="137.5" y1="1237.3125" y2="1233.3125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="127.5" x2="137.5" y1="1237.3125" y2="1241.3125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="127.5" x2="471.5" y1="1237.3125" y2="1237.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="144.5" y="1232.2466">sendNotificationToAllSubscribers()</text><!--MD5=[4702028fb6b2bb74da6af0627bb849ff]
@startuml distributed EAA

participant Producer
participant Client
participant EAA
participant ClientIDStream as "<Client_ID>\nStream"
participant NamespaceStream as "<URN.Namespace>\nStream"

== Get Notifications (establish connection) ==
Client -> EAA:  [GET] /notifications
activate EAA
EAA ->> ClientIDStream: subscribe to the topic\nread from the beginning
EAA - -> Client: [GET] /notifications response(Websocket channel)
deactivate EAA

ClientIDStream ->> EAA: Event from <Client_ID> - All Messages
activate EAA
note over EAA
    Message.ID: URN.Namespace:
    Message.Payload: {
        URN.Namespace
        URN.ID[when Scope='service']
        Action
        Scope
        Notifications[
            {
                Name
                Version
                Description
            }
        ]
    }
endnote
EAA ->> NamespaceStream: Subscribe: <[]URN.Namespace>
deactivate EAA

== Publish Notifications ==
Producer -> EAA:  [POST] /notifications
activate EAA
EAA ->> NamespaceStream: PushNotificationToSubscribers()
note over NamespaceStream
    Message.ID: <EMPTY> or Random UUID
    Message.Payload: {
        URN.Namespace
        URN.ID
        Notifications[
            {
                Name
                Version
                Description
            }
        ]
    }
endnote
EAA - -> Producer: [POST] /notifications response
deactivate EAA

NamespaceStream ->> EAA: Event from <URN.Namespace> - notification
activate EAA
note over EAA
    Message.ID: <EMPTY> or Random UUID
    Message.Payload: {
        URN.Namespace
        URN.ID
        Notifications[
            {
                Name
                Version
                Description
            }
        ]
    }
endnote
note over EAA
    Use existing logic to send the notification to all local subscribers
endnote
EAA ->> Client: sendNotificationToAllSubscribers()
deactivate EAA

title
  Streams
  |= |= Topic |= Description |
  | b | <Client_ID> | Holds all subscribe/unsubscribe events from a client |
  | c | <URN.Namespace> | Holds all events for a namespace |
end title
@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-LTS
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>