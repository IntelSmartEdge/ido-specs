<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1919px" preserveAspectRatio="none" style="width:668px;height:1919px;" version="1.1" viewBox="0 0 668 1919" width="668px" zoomAndPan="magnify"><defs><filter height="300%" id="f1m8kexa1j4fa0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="72" x="298" y="26.708">Streams</text><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="18" y="49.6611">Topic</text><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="104" y="49.6611">Description</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="74" x="18" y="70.6143">Services</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="546" x="104" y="70.6143">Holds all registered services. EAA susbscribes to it at the start</text><line style="stroke: #000000; stroke-width: 1.0;" x1="12" x2="656" y1="32.9531" y2="32.9531"/><line style="stroke: #000000; stroke-width: 1.0;" x1="12" x2="656" y1="53.9063" y2="53.9063"/><line style="stroke: #000000; stroke-width: 1.0;" x1="12" x2="656" y1="74.8594" y2="74.8594"/><line style="stroke: #000000; stroke-width: 1.0;" x1="12" x2="12" y1="32.9531" y2="74.8594"/><line style="stroke: #000000; stroke-width: 1.0;" x1="98" x2="98" y1="32.9531" y2="74.8594"/><line style="stroke: #000000; stroke-width: 1.0;" x1="656" x2="656" y1="32.9531" y2="74.8594"/><rect fill="#FFFFFF" filter="url(#f1m8kexa1j4fa0)" height="34.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="336" y="217.7188"/><rect fill="#FFFFFF" filter="url(#f1m8kexa1j4fa0)" height="514.8516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="336" y="324.1172"/><rect fill="#FFFFFF" filter="url(#f1m8kexa1j4fa0)" height="255.8594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="336" y="868.1016"/><rect fill="#FFFFFF" filter="url(#f1m8kexa1j4fa0)" height="272.7266" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="336" y="1203.2266"/><rect fill="#FFFFFF" filter="url(#f1m8kexa1j4fa0)" height="149.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="336" y="1505.0859"/><rect fill="#FFFFFF" filter="url(#f1m8kexa1j4fa0)" height="110.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="336" y="1734.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="58.5" x2="58.5" y1="135.4531" y2="1862.6797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="137.5" x2="137.5" y1="135.4531" y2="1862.6797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="340.5" x2="340.5" y1="135.4531" y2="1862.6797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="516.5" x2="516.5" y1="135.4531" y2="1862.6797"/><rect fill="#FEFECE" filter="url(#f1m8kexa1j4fa0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="18.5" y="100.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="25.5" y="120.1514">Producer</text><rect fill="#FEFECE" filter="url(#f1m8kexa1j4fa0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="18.5" y="1861.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="25.5" y="1881.6748">Producer</text><rect fill="#FEFECE" filter="url(#f1m8kexa1j4fa0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="109.5" y="100.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="116.5" y="120.1514">Client</text><rect fill="#FEFECE" filter="url(#f1m8kexa1j4fa0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="109.5" y="1861.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="116.5" y="1881.6748">Client</text><rect fill="#FEFECE" filter="url(#f1m8kexa1j4fa0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="41" x="318.5" y="100.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="325.5" y="120.1514">EAA</text><rect fill="#FEFECE" filter="url(#f1m8kexa1j4fa0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="41" x="318.5" y="1861.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="325.5" y="1881.6748">EAA</text><rect fill="#FEFECE" filter="url(#f1m8kexa1j4fa0)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="467.5" y="83.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="474.5" y="103.8545">&lt;services&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="490.5" y="120.1514">Stream</text><rect fill="#FEFECE" filter="url(#f1m8kexa1j4fa0)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="467.5" y="1861.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="474.5" y="1881.6748">&lt;services&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="490.5" y="1897.9717">Stream</text><rect fill="#FFFFFF" filter="url(#f1m8kexa1j4fa0)" height="34.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="336" y="217.7188"/><rect fill="#FFFFFF" filter="url(#f1m8kexa1j4fa0)" height="514.8516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="336" y="324.1172"/><rect fill="#FFFFFF" filter="url(#f1m8kexa1j4fa0)" height="255.8594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="336" y="868.1016"/><rect fill="#FFFFFF" filter="url(#f1m8kexa1j4fa0)" height="272.7266" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="336" y="1203.2266"/><rect fill="#FFFFFF" filter="url(#f1m8kexa1j4fa0)" height="149.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="336" y="1505.0859"/><rect fill="#FFFFFF" filter="url(#f1m8kexa1j4fa0)" height="110.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="336" y="1734.2813"/><rect fill="#EEEEEE" filter="url(#f1m8kexa1j4fa0)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="641" x="13.5" y="166.0195"/><line style="stroke: #000000; stroke-width: 1.0;" x1="13.5" x2="654.5" y1="166.0195" y2="166.0195"/><line style="stroke: #000000; stroke-width: 1.0;" x1="13.5" x2="654.5" y1="169.0195" y2="169.0195"/><rect fill="#EEEEEE" filter="url(#f1m8kexa1j4fa0)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="242" x="213" y="155.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="223" x="219" y="171.52">&lt;services&gt; Topic Subscription</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="341" x2="388" y1="204.7188" y2="204.7188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="388" x2="388" y1="204.7188" y2="217.7188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="347" x2="388" y1="217.7188" y2="217.7188"/><polygon fill="#A80036" points="357,213.7188,347,217.7188,357,221.7188,353,217.7188" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="353" y="199.6528">RunServer()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="515" x2="505" y1="251.8516" y2="247.8516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="515" x2="505" y1="251.8516" y2="255.8516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="341" x2="516" y1="251.8516" y2="251.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="348" y="246.7856">subscribe to the topic</text><rect fill="#EEEEEE" filter="url(#f1m8kexa1j4fa0)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="641" x="13.5" y="280.418"/><line style="stroke: #000000; stroke-width: 1.0;" x1="13.5" x2="654.5" y1="280.418" y2="280.418"/><line style="stroke: #000000; stroke-width: 1.0;" x1="13.5" x2="654.5" y1="283.418" y2="283.418"/><rect fill="#EEEEEE" filter="url(#f1m8kexa1j4fa0)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="150" x="259" y="269.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="131" x="265" y="285.9185">Service Activation</text><polygon fill="#A80036" points="324,320.1172,334,324.1172,324,328.1172,328,324.1172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="59" x2="330" y1="324.1172" y2="324.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="66" y="319.0513">[POST] /services</text><path d="M208.5,337.1172 L208.5,558.1172 L469.5,558.1172 L469.5,347.1172 L459.5,337.1172 L208.5,337.1172 " fill="#FBFB77" filter="url(#f1m8kexa1j4fa0)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M459.5,337.1172 L459.5,347.1172 L469.5,347.1172 L459.5,337.1172 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="214.5" y="354.1841">Message.ID: URN.Namespace:URN.ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="214.5" y="369.3169">Message.Payload: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="230.5" y="384.4497">URN.Namespace</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="230.5" y="399.5825">URN.ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="230.5" y="414.7153">Description</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="230.5" y="429.8481">EndpointURI</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="230.5" y="444.981">Notifications[</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="246.5" y="460.1138">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="262.5" y="475.2466">Name</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="262.5" y="490.3794">Version</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="262.5" y="505.5122">Description</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="246.5" y="520.645">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="230.5" y="535.7778">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="214.5" y="550.9106">}</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="515" x2="505" y1="589.1094" y2="585.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="515" x2="505" y1="589.1094" y2="593.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="346" x2="516" y1="589.1094" y2="589.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="353" y="584.0435">RegisterApplication()</text><path d="M384.5,602.1094 L384.5,808.1094 L645.5,808.1094 L645.5,612.1094 L635.5,602.1094 L384.5,602.1094 " fill="#FBFB77" filter="url(#f1m8kexa1j4fa0)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M635.5,602.1094 L635.5,612.1094 L645.5,612.1094 L635.5,602.1094 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="390.5" y="619.1763">Message.ID: URN.Namespace:URN.ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="390.5" y="634.3091">Message.Payload: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="406.5" y="649.4419">URN.Namespace</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="406.5" y="664.5747">URN.ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="406.5" y="679.7075">Action='register'</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="406.5" y="694.8403">Notifications[</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="422.5" y="709.9731">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="438.5" y="725.106">Name</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="438.5" y="740.2388">Version</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="438.5" y="755.3716">Description</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="422.5" y="770.5044">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="406.5" y="785.6372">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="390.5" y="800.77">}</text><polygon fill="#A80036" points="70,834.9688,60,838.9688,70,842.9688,66,838.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="64" x2="340" y1="838.9688" y2="838.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="76" y="833.9028">[POST] /services response</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="346" x2="356" y1="868.1016" y2="864.1016"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="346" x2="356" y1="868.1016" y2="872.1016"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="346" x2="516" y1="868.1016" y2="868.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="363" y="863.0356">Event - register</text><path d="M208.5,881.1016 L208.5,1087.1016 L469.5,1087.1016 L469.5,891.1016 L459.5,881.1016 L208.5,881.1016 " fill="#FBFB77" filter="url(#f1m8kexa1j4fa0)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M459.5,881.1016 L459.5,891.1016 L469.5,891.1016 L459.5,881.1016 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="214.5" y="898.1685">Message.ID: URN.Namespace:URN.ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="214.5" y="913.3013">Message.Payload: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="230.5" y="928.4341">URN.Namespace</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="230.5" y="943.5669">URN.ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="230.5" y="958.6997">Action='register'</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="230.5" y="973.8325">Notifications[</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="246.5" y="988.9653">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="262.5" y="1004.0981">Name</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="262.5" y="1019.231">Version</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="262.5" y="1034.3638">Description</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="246.5" y="1049.4966">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="230.5" y="1064.6294">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="214.5" y="1079.7622">}</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="346" x2="388" y1="1122.9609" y2="1122.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="388" x2="388" y1="1122.9609" y2="1135.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="341" x2="388" y1="1135.9609" y2="1135.9609"/><polygon fill="#A80036" points="351,1131.9609,341,1135.9609,351,1139.9609,347,1135.9609" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="353" y="1117.895">addService()</text><rect fill="#EEEEEE" filter="url(#f1m8kexa1j4fa0)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="641" x="13.5" y="1159.5273"/><line style="stroke: #000000; stroke-width: 1.0;" x1="13.5" x2="654.5" y1="1159.5273" y2="1159.5273"/><line style="stroke: #000000; stroke-width: 1.0;" x1="13.5" x2="654.5" y1="1162.5273" y2="1162.5273"/><rect fill="#EEEEEE" filter="url(#f1m8kexa1j4fa0)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="169" x="249.5" y="1148.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="150" x="255.5" y="1165.0278">Service Deactivation</text><polygon fill="#A80036" points="324,1199.2266,334,1203.2266,324,1207.2266,328,1203.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="59" x2="330" y1="1203.2266" y2="1203.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="66" y="1198.1606">[DELETE] /services</text><path d="M208.5,1216.2266 L208.5,1301.2266 L469.5,1301.2266 L469.5,1226.2266 L459.5,1216.2266 L208.5,1216.2266 " fill="#FBFB77" filter="url(#f1m8kexa1j4fa0)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M459.5,1216.2266 L459.5,1226.2266 L469.5,1226.2266 L459.5,1216.2266 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="214.5" y="1233.2935">Message.ID: URN.Namespace:URN.ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="214.5" y="1248.4263">Message.Payload: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="230.5" y="1263.5591">URN.Namespace</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="230.5" y="1278.6919">URN.ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="214.5" y="1293.8247">}</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="515" x2="505" y1="1332.0234" y2="1328.0234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="515" x2="505" y1="1332.0234" y2="1336.0234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="346" x2="516" y1="1332.0234" y2="1332.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="353" y="1326.9575">DeregisterApplication()</text><path d="M384.5,1345.0234 L384.5,1445.0234 L645.5,1445.0234 L645.5,1355.0234 L635.5,1345.0234 L384.5,1345.0234 " fill="#FBFB77" filter="url(#f1m8kexa1j4fa0)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M635.5,1345.0234 L635.5,1355.0234 L645.5,1355.0234 L635.5,1345.0234 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="390.5" y="1362.0903">Message.ID: URN.Namespace:URN.ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="390.5" y="1377.2231">Message.Payload: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="406.5" y="1392.356">URN.Namespace</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="406.5" y="1407.4888">URN.ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="406.5" y="1422.6216">Action='deregister'</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="390.5" y="1437.7544">}</text><polygon fill="#A80036" points="70,1471.9531,60,1475.9531,70,1479.9531,66,1475.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="64" x2="340" y1="1475.9531" y2="1475.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="76" y="1470.8872">Service activation response</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="346" x2="356" y1="1505.0859" y2="1501.0859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="346" x2="356" y1="1505.0859" y2="1509.0859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="346" x2="516" y1="1505.0859" y2="1505.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="363" y="1500.02">Event - deregister</text><path d="M208.5,1518.0859 L208.5,1618.0859 L469.5,1618.0859 L469.5,1528.0859 L459.5,1518.0859 L208.5,1518.0859 " fill="#FBFB77" filter="url(#f1m8kexa1j4fa0)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M459.5,1518.0859 L459.5,1528.0859 L469.5,1528.0859 L459.5,1518.0859 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="214.5" y="1535.1528">Message.ID: URN.Namespace:URN.ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="214.5" y="1550.2856">Message.Payload: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="230.5" y="1565.4185">URN.Namespace</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="230.5" y="1580.5513">URN.ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="230.5" y="1595.6841">Action='deregister'</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="214.5" y="1610.8169">}</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="346" x2="388" y1="1654.0156" y2="1654.0156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="388" x2="388" y1="1654.0156" y2="1667.0156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="341" x2="388" y1="1667.0156" y2="1667.0156"/><polygon fill="#A80036" points="351,1663.0156,341,1667.0156,351,1671.0156,347,1667.0156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="353" y="1648.9497">removeService()</text><rect fill="#EEEEEE" filter="url(#f1m8kexa1j4fa0)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="641" x="13.5" y="1690.582"/><line style="stroke: #000000; stroke-width: 1.0;" x1="13.5" x2="654.5" y1="1690.582" y2="1690.582"/><line style="stroke: #000000; stroke-width: 1.0;" x1="13.5" x2="654.5" y1="1693.582" y2="1693.582"/><rect fill="#EEEEEE" filter="url(#f1m8kexa1j4fa0)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="148" x="260" y="1680.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129" x="266" y="1696.0825">Service Discovery</text><polygon fill="#A80036" points="324,1730.2813,334,1734.2813,324,1738.2813,328,1734.2813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="138" x2="330" y1="1734.2813" y2="1734.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="145" y="1729.2153">[GET] /services</text><path d="M188.5,1747.2813 L188.5,1772.2813 L489.5,1772.2813 L489.5,1757.2813 L479.5,1747.2813 L188.5,1747.2813 " fill="#FBFB77" filter="url(#f1m8kexa1j4fa0)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M479.5,1747.2813 L479.5,1757.2813 L489.5,1757.2813 L479.5,1747.2813 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="280" x="194.5" y="1764.3481">Service structures updated on 'register' and</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="346" x2="388" y1="1802.5469" y2="1802.5469"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="388" x2="388" y1="1802.5469" y2="1815.5469"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="347" x2="388" y1="1815.5469" y2="1815.5469"/><polygon fill="#A80036" points="357,1811.5469,347,1815.5469,357,1819.5469,353,1815.5469" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="353" y="1797.481">GetServices()</text><polygon fill="#A80036" points="149,1840.6797,139,1844.6797,149,1848.6797,145,1844.6797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="143" x2="340" y1="1844.6797" y2="1844.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="155" y="1839.6138">Service discovery response</text><!--MD5=[153973f8ee165139ff9c3fd6884c097b]
@startuml distributed EAA

participant Producer
participant Client
participant EAA
participant Stream as "<services>\nStream"

== <services> Topic Subscription ==

EAA -> EAA: RunServer()
activate EAA
EAA ->> Stream: subscribe to the topic
deactivate EAA

== Service Activation ==
Producer -> EAA:  [POST] /services
activate EAA
note over EAA
    Message.ID: URN.Namespace:URN.ID
    Message.Payload: {
        URN.Namespace
        URN.ID
        Description
        EndpointURI
        Notifications[
            {
                Name
                Version
                Description
            }
        ]
    }
endnote
EAA ->> Stream: RegisterApplication()
note over Stream
    Message.ID: URN.Namespace:URN.ID
    Message.Payload: {
        URN.Namespace
        URN.ID
        Action='register'
        Notifications[
            {
                Name
                Version
                Description
            }
        ]
    }
endnote
EAA - -> Producer: [POST] /services response
deactivate EAA

Stream ->> EAA: Event - register
activate EAA
note over EAA
    Message.ID: URN.Namespace:URN.ID
    Message.Payload: {
        URN.Namespace
        URN.ID
        Action='register'
        Notifications[
            {
                Name
                Version
                Description
            }
        ]
    }
endnote
EAA -> EAA: addService()
deactivate EAA

== Service Deactivation ==
Producer -> EAA:  [DELETE] /services
activate EAA
note over EAA
    Message.ID: URN.Namespace:URN.ID
    Message.Payload: {
        URN.Namespace
        URN.ID
    }
endnote
EAA ->> Stream: DeregisterApplication()
note over Stream
    Message.ID: URN.Namespace:URN.ID
    Message.Payload: {
        URN.Namespace
        URN.ID
        Action='deregister'
    }
endnote
EAA - -> Producer: Service activation response
deactivate EAA

Stream ->> EAA: Event - deregister
activate EAA
note over EAA
    Message.ID: URN.Namespace:URN.ID
    Message.Payload: {
        URN.Namespace
        URN.ID
        Action='deregister'
    }
endnote
EAA -> EAA: removeService()
deactivate EAA

== Service Discovery ==
Client -> EAA:  [GET] /services
activate EAA
note over EAA
    Service structures updated on 'register' and
    'deregister' events(This happens asynchronously)
endnote
EAA -> EAA: GetServices()
EAA - -> Client: Service discovery response
deactivate EAA

title
  Streams
  |= Topic |= Description |
  | Services | Holds all registered services. EAA susbscribes to it at the start |
end title
@enduml

@startuml distributed EAA

participant Producer
participant Client
participant EAA
participant Stream as "<services>\nStream"

== <services> Topic Subscription ==

EAA -> EAA: RunServer()
activate EAA
EAA ->> Stream: subscribe to the topic
deactivate EAA

== Service Activation ==
Producer -> EAA:  [POST] /services
activate EAA
note over EAA
    Message.ID: URN.Namespace:URN.ID
    Message.Payload: {
        URN.Namespace
        URN.ID
        Description
        EndpointURI
        Notifications[
            {
                Name
                Version
                Description
            }
        ]
    }
endnote
EAA ->> Stream: RegisterApplication()
note over Stream
    Message.ID: URN.Namespace:URN.ID
    Message.Payload: {
        URN.Namespace
        URN.ID
        Action='register'
        Notifications[
            {
                Name
                Version
                Description
            }
        ]
    }
endnote
EAA - -> Producer: [POST] /services response
deactivate EAA

Stream ->> EAA: Event - register
activate EAA
note over EAA
    Message.ID: URN.Namespace:URN.ID
    Message.Payload: {
        URN.Namespace
        URN.ID
        Action='register'
        Notifications[
            {
                Name
                Version
                Description
            }
        ]
    }
endnote
EAA -> EAA: addService()
deactivate EAA

== Service Deactivation ==
Producer -> EAA:  [DELETE] /services
activate EAA
note over EAA
    Message.ID: URN.Namespace:URN.ID
    Message.Payload: {
        URN.Namespace
        URN.ID
    }
endnote
EAA ->> Stream: DeregisterApplication()
note over Stream
    Message.ID: URN.Namespace:URN.ID
    Message.Payload: {
        URN.Namespace
        URN.ID
        Action='deregister'
    }
endnote
EAA - -> Producer: Service activation response
deactivate EAA

Stream ->> EAA: Event - deregister
activate EAA
note over EAA
    Message.ID: URN.Namespace:URN.ID
    Message.Payload: {
        URN.Namespace
        URN.ID
        Action='deregister'
    }
endnote
EAA -> EAA: removeService()
deactivate EAA

== Service Discovery ==
Client -> EAA:  [GET] /services
activate EAA
note over EAA
    Service structures updated on 'register' and
endnote
EAA -> EAA: GetServices()
EAA - -> Client: Service discovery response
deactivate EAA

title
  Streams
  |= Topic |= Description |
  | Services | Holds all registered services. EAA susbscribes to it at the start |
end title
@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-LTS
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>